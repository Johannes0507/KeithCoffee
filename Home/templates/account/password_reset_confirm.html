{% extends 'Home_Base.html' %}


{% block content %}


	<div style="display: flex; justify-content: center; align-content: center;">
		<div class="p-5 text-center bg-body-tertiary rounded-3" style="margin: 30px; width: 40%;">
			<div class="w-100 m-auto">

				{% if validlink %}
					<form action="" method="POST">
						{% csrf_token %}
						<h1 class="h3 mb-3 fw-normal">請輸入重設密碼</h1>
				        <div class="form-floating" style="margin-top: 10px;">
				            <input name="{{ form.new_password1.name }}" type="password" class="form-control" id="{{ form.new_password1.id_for_label }}" required>
				            <label for="{{ form.new_password1.id_for_label }}">密碼</label>
				        </div>				
				        <div class="form-floating" style="margin-top: 10px;">
				            <input name="{{ form.new_password2.name }}" type="password" class="form-control" id="{{ form.new_password2.id_for_label }}" required>
				            <label for="{{ form.new_password2.id_for_label }}">確認密碼</label>
				        </div>				        
			            <div class="text-danger" style="width: 100%; height: 16px; margin: 5px 0 15px 0;">
				            {% for error in form.new_password1.errors %}
				                <p class="text-danger" style="font-weight: bold; margin-top: 5px; text-align: left;">{{ error }}</p>
				            {% endfor %}
				            {% for error in form.new_password2.errors %}
				                <p class="text-danger" style="font-weight: bold; margin-top: 5px; text-align: left;">{{ error }}</p>
				            {% endfor %}				            
			            </div>		        
			            <button class="btn btn-primary w-100 py-2" type="submit">確認</button>	            
					</form>
				{% else %}
					<h1 class="h3 mb-3 fw-normal">密碼重製失敗</h1>
					<p class="mb-3 fw-normal" style="letter-spacing: 1px;">密碼重製連失效，可能是因為此連結已經被使用過，請重新嘗試請求新的email連結。</p>
				{% endif %}

			</div>
		</div>
	</div>



{% endblock %}