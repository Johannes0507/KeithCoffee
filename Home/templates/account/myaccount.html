{% extends 'Home_Base.html' %}

{% block title %}
我的帳號
{% endblock %}

{% block content %}

<header style="height: 60px; background-color: #363335;">
	<div style="padding: 28px;">
		<h1 style="font-family: Noto Sans; font-size: 20px; line-height: 0.4; letter-spacing: 2.1px; text-align: center; color: #dbdbdb; font-weight: bold;">
		我的帳號
		</h1>
	</div>
</header>

<div class="h-100 p-5 border" style="width: 92%; margin: 4%;">
	
	<div class="row" style="margin-bottom: 20px; float:left;">
		<p class="h2 text-body-emphasis">帳戶資料</p>
	</div>
	<a class="btn btn-outline-secondary" href="{% url 'edit_myaccount' %}" style="width: 100px; height: 40px; margin-left: 30px;">
		<p class="fw-semibold">更改資料</p>
	</a>
	<a class="btn btn-outline-danger" href="{% url 'password_reset' %}" style="width: 100px; height: 40px; margin-left: 30px;">
		<p class="fw-semibold">變更密碼</p>
	</a>	
	<div style="width: 100%; clear: both;"></div>
	<div class="col-lg-6" >
		<div class="card-body">
			<div class="row ">
				<div class="col-sm-3">
					<p class="mb-0">姓名</p>
				</div>
				<div class="col-sm-9">
					<p class="text-muted mb-0">{{ request.user.get_full_name }}</p>
				</div>
			</div>	
			<hr>		
			<div class="row ">
				<div class="col-sm-3">
					<p class="mb-0">帳號名稱</p>
				</div>
				<div class="col-sm-9">
					<p class="text-muted mb-0">{{ request.user.username }}</p>
				</div>
			</div>
			<hr>
			<div class="row">
				<div class="col-sm-3">
					<p class="mb-0">Email</p>
				</div>
				<div class="col-sm-9">
					<p class="text-muted mb-0">{{ request.user.email }}</p>
				</div>
			</div>
		</div>
	</div>

	<div style="padding-top: 50px;">
		<p class="h2 text-body-emphasis">選購的商品</p>
		<table class="table table-hover ">
			<thead>
				<tr>
					<th class="product-thumbnail"></th>
					<th class="product-name">產品名</th>
					<th class="product-price">價格</th>			
					<th class="product-quantity">數量</th>	
				</tr>
			</thead>
			<tbody>
				{% for item in cart %}
				<tr>
					<td class="product-thumbnail">
						<img src="{{ MEDIA_URL }}{{ item.product.image }}" alt="Image" class="img-fluid" style="height: 120pxl; width: 120px;">
					</td>
					<td class="product-name">
						<h2 class="h5">{{ item.product.name }}</h2><p class="text-white-50 bg-dark">{{ item.size }}</p>
					</td>
					<td>{{ item.product.price }} NT</td>
					<td>{{ item.quantity }}</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>						
</div>

{% endblock %}